<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PicPay - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Cores atualizadas do PicPay - mais escuras */
        :root {
            --picpay-green: #1abc9c;
            --picpay-dark-green: #16a085;
            --picpay-darker-green: #0d8b71;
            --picpay-black: #1a1a1a;
            --picpay-gray: #3a3a3a;
            --picpay-light-gray: #f5f5f5;
            --picpay-white: #ffffff;
            --picpay-yellow: #ffc107;
            --picpay-blue: #007bff;
            --picpay-red: #dc3545;
            --picpay-purple: #6f42c1;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            --radius: 12px;
            --transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-color: var(--picpay-light-gray);
            color: var(--picpay-black);
            line-height: 1.5;
            overflow-x: hidden;
            padding-bottom: 90px;
        }

        /* Splash Screen - Tela de Entrada */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--picpay-green);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: logoFloat 2s ease-in-out infinite;
        }

        .picpay-logo {
            font-size: 4.5rem;
            font-weight: 800;
            color: white;
            margin-bottom: 10px;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            letter-spacing: -1px;
        }

        .logo-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 2px;
            margin-top: 5px;
        }

        .loading-dots {
            display: flex;
            margin-top: 40px;
            gap: 10px;
        }

        .dot {
            width: 12px;
            height: 12px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: loadingDot 1.4s ease-in-out infinite;
        }

        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        .powered-by {
            position: absolute;
            bottom: 30px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Tela de Login */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--picpay-green);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9998;
            transition: opacity 0.5s ease, visibility 0.5s ease;
            padding: 20px;
        }

        .login-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .login-container {
            background-color: white;
            border-radius: 25px;
            width: 100%;
            max-width: 400px;
            padding: 40px 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            animation: slideUp 0.5s ease;
        }

        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-logo {
            color: var(--picpay-green);
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .login-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--picpay-black);
            margin-bottom: 8px;
        }

        .login-subtitle {
            color: var(--picpay-gray);
            font-size: 0.95rem;
        }

        .login-form {
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--picpay-black);
            font-size: 0.95rem;
        }

        .input-with-icon {
            position: relative;
        }

        .form-input {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: #fafafa;
            color: var(--picpay-black);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--picpay-green);
            background-color: white;
            box-shadow: 0 0 0 3px rgba(26, 188, 156, 0.1);
        }

        .input-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--picpay-gray);
            font-size: 1.1rem;
        }

        .password-toggle {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--picpay-gray);
            cursor: pointer;
            font-size: 1.1rem;
        }

        .remember-forgot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            font-size: 0.9rem;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .remember-me input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--picpay-green);
        }

        .forgot-password {
            color: var(--picpay-green);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .forgot-password:hover {
            color: var(--picpay-dark-green);
        }

        .login-button {
            width: 100%;
            padding: 18px;
            background-color: var(--picpay-green);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .login-button:hover {
            background-color: var(--picpay-dark-green);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(26, 188, 156, 0.3);
        }

        .login-button:active {
            transform: translateY(0);
        }

        .login-footer {
            text-align: center;
            margin-top: 25px;
            color: var(--picpay-gray);
            font-size: 0.9rem;
        }

        .signup-link {
            color: var(--picpay-green);
            text-decoration: none;
            font-weight: 600;
            margin-left: 5px;
        }

        .signup-link:hover {
            text-decoration: underline;
        }

        .login-error {
            background-color: rgba(220, 53, 69, 0.1);
            color: var(--picpay-red);
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            display: none;
            align-items: center;
            gap: 10px;
        }

        /* Conteúdo principal - inicialmente escondido */
        .main-content {
            display: none;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }

        .main-content.visible {
            display: block;
            opacity: 1;
        }

        /* Header PicPay - NOVO DESIGN */
        .picpay-header {
            background-color: var(--picpay-white);
            padding: 15px 20px 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid #f0f0f0;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .time-display {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--picpay-black);
            padding: 5px 15px;
            border-radius: 20px;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            color: var(--picpay-black);
            font-size: 1.1rem;
        }

        .notification-badge {
            position: relative;
            cursor: pointer;
        }

        .badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--picpay-red);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Barra de pesquisa e ícones - NOVO */
        .search-bar-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-bar {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border: 2px solid #f0f0f0;
            border-radius: 25px;
            font-size: 0.9rem;
            background-color: #f8f8f8;
            color: var(--picpay-black);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--picpay-green);
            background-color: white;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--picpay-gray);
            font-size: 1rem;
        }

        .header-icons {
            display: flex;
            gap: 12px;
        }

        .icon-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f8f8;
            color: var(--picpay-black);
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
        }

        .icon-circle:hover {
            background-color: #f0f0f0;
            transform: scale(1.05);
        }

        /* User info - NOVO DESIGN (SEM BOTÃO ADICIONAR CONTA) */
        .user-info-section {
            padding: 15px 20px 5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .profile-pic {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #f0f0f0;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .profile-pic:hover {
            transform: scale(1.05);
        }

        .user-details {
            cursor: pointer;
        }

        .user-details h1 {
            font-size: 1.1rem;
            color: var(--picpay-black);
            margin-bottom: 3px;
            font-weight: 700;
        }

        .user-details p {
            color: var(--picpay-gray);
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Botão Adicionar conta REMOVIDO */

        /* Main Content */
        .main-container {
            padding: 0;
        }

        /* Balance Carousel - NOVO DESIGN (sem setas) */
        .balance-section {
            padding: 20px 20px 0;
        }

        .balance-carousel-container {
            position: relative;
            margin-bottom: 20px;
            overflow: hidden;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            touch-action: pan-y;
            cursor: pointer;
        }

        .balance-carousel {
            display: flex;
            transition: transform 0.3s ease;
        }

        .balance-slide {
            min-width: 100%;
            padding: 25px;
            color: white;
            box-sizing: border-box;
        }

        /* Primeiro slide - Saldo (verde) */
        .balance-slide:first-child {
            background: linear-gradient(135deg, var(--picpay-green), var(--picpay-dark-green));
        }

        /* Segundo slide - Cartão (AGORA TAMBÉM VERDE) */
        .balance-slide:nth-child(2) {
            background: linear-gradient(135deg, var(--picpay-green), var(--picpay-dark-green));
        }

        .balance-label {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Botão "Ver saldo" - NOVO */
        .show-balance-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .show-balance-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .balance-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .balance-info {
            background: rgba(255, 255, 255, 0.15);
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.85rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .balance-info:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .card-description {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .card-access-btn {
            background-color: white;
            color: var(--picpay-green);
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }

        .card-access-btn:hover {
            background-color: #f8f9fa;
            transform: translateY(-2px);
        }

        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: var(--transition);
        }

        .carousel-dot.active {
            background-color: var(--picpay-green);
            transform: scale(1.2);
        }

        /* Pro dia a dia - CARROSSEL */
        .daily-section {
            padding: 0 20px 20px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--picpay-black);
        }

        .see-all {
            color: var(--picpay-green);
            font-size: 0.85rem;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
        }

        .see-all:hover {
            opacity: 0.8;
        }

        .daily-carousel-container {
            position: relative;
        }

        .daily-carousel {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            gap: 15px;
            padding: 5px 0 15px;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }

        .daily-carousel::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        .daily-item {
            min-width: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            color: var(--picpay-black);
        }

        .daily-item:hover {
            transform: translateY(-3px);
        }

        .daily-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Apenas o Pix verde, os outros cinza claro */
        .pix-bg { 
            background: linear-gradient(135deg, var(--picpay-green), var(--picpay-dark-green)); 
        }
        .payment-bg, .recharge-bg, .piggy-bg, .credit-bg, 
        .loan-bg, .crypto-bg, .pot-bg, .invest-bg, 
        .vehicle-bg, .more-bg { 
            background: linear-gradient(135deg, #cccccc, #aaaaaa); 
        }

        .daily-label {
            font-size: 0.75rem;
            font-weight: 600;
            text-align: center;
            line-height: 1.2;
        }

        /* Features Grid - NOVO DESIGN */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 0 20px 20px;
        }

        .feature-card {
            background-color: var(--picpay-white);
            border-radius: var(--radius);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            text-decoration: none;
            color: var(--picpay-black);
            border-left: 3px solid var(--picpay-green);
        }

        .feature-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }

        .feature-info h3 {
            font-size: 0.95rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .feature-info p {
            font-size: 0.8rem;
            color: var(--picpay-gray);
        }

        /* Navegação Inferior */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--picpay-white);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.08);
            z-index: 1000;
            border-top: 1px solid #eee;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            color: var(--picpay-gray);
            transition: var(--transition);
            text-decoration: none;
            flex: 1;
        }

        .nav-item.active, .nav-item:hover {
            color: var(--picpay-green);
        }

        .nav-icon {
            font-size: 1.4rem;
        }

        .nav-label {
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(3px);
        }

        .modal-content {
            background-color: var(--picpay-white);
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            animation: modalSlide 0.3s ease;
        }

        @keyframes modalSlide {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--picpay-black);
        }

        .close-modal {
            background: #f5f5f5;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            color: var(--picpay-gray);
            transition: var(--transition);
        }

        .close-modal:hover {
            background: #e9e9e9;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 28px;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 1rem;
            min-width: 100px;
        }

        .btn-primary {
            background-color: var(--picpay-green);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--picpay-dark-green);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: #f0f0f0;
            color: var(--picpay-black);
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        /* Animations */
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes loadingDot {
            0%, 100% { 
                transform: scale(1);
                background-color: rgba(255, 255, 255, 0.7);
            }
            50% { 
                transform: scale(1.3);
                background-color: rgba(255, 255, 255, 1);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .picpay-logo {
                font-size: 3.5rem;
            }
        }

        @media (max-width: 480px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .balance-value {
                font-size: 1.8rem;
            }
            
            .picpay-logo {
                font-size: 3rem;
            }
            
            .logo-subtitle {
                font-size: 0.9rem;
            }
            
            .login-container {
                padding: 30px 20px;
            }
            
            .login-logo {
                font-size: 2rem;
            }
            
            .login-title {
                font-size: 1.3rem;
            }
            
            .daily-item {
                min-width: 70px;
            }
            
            .daily-icon {
                width: 55px;
                height: 55px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Splash Screen - Tela de Entrada -->
    <div class="splash-screen" id="splash-screen">
        <div class="logo-container">
            <div class="picpay-logo">PicPay</div>
            <div class="logo-subtitle">SEU DINHEIRO RENDE MAIS</div>
        </div>
        <div class="loading-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        <div class="powered-by">by PicPay © 2023</div>
    </div>

    <!-- Tela de Login -->
    <div class="login-screen" id="login-screen">
        <div class="login-container">
            <div class="login-header">
                <div class="login-logo">PicPay</div>
                <h1 class="login-title">Bem-vindo de volta</h1>
                <p class="login-subtitle">Faça login para acessar sua conta</p>
            </div>
            
            <div class="login-error" id="login-error">
                <i class="fas fa-exclamation-circle"></i>
                <span id="error-message">CPF ou senha incorretos</span>
            </div>
            
            <form class="login-form" id="login-form">
                <div class="form-group">
                    <label for="cpf" class="form-label">CPF</label>
                    <div class="input-with-icon">
                        <i class="fas fa-user input-icon"></i>
                        <input type="text" id="cpf" class="form-input" placeholder="Digite seu CPF" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="password" class="form-label">Senha</label>
                    <div class="input-with-icon">
                        <i class="fas fa-lock input-icon"></i>
                        <input type="password" id="password" class="form-input" placeholder="Digite sua senha" required>
                        <button type="button" class="password-toggle" id="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="remember-forgot">
                    <label class="remember-me">
                        <input type="checkbox" id="remember-me" checked>
                        <span>Lembrar-me</span>
                    </label>
                    <a href="esquecer-senha.html" class="forgot-password">Esqueci minha senha</a>
                </div>
                
                <button type="submit" class="login-button">
                    <i class="fas fa-sign-in-alt"></i>
                    Entrar na minha conta
                </button>
            </form>
            
            <div class="login-footer">
                <span>Ainda não tem uma conta?</span>
                <a href="cadastro.html" class="signup-link">Cadastre-se agora</a>
            </div>
        </div>
    </div>

    <!-- Conteúdo Principal -->
    <div class="main-content" id="main-content">
        <!-- Header PicPay - NOVO DESIGN -->
        <header class="picpay-header">
            <div class="header-top">
                <div class="time-display" id="current-time">17:09</div>
                <div class="header-actions">
                    <div class="notification-badge">
                        <i class="fas fa-bluetooth"></i>
                    </div>
                    <i class="fas fa-wifi"></i>
                </div>
            </div>
            
            <!-- Barra de pesquisa e ícones -->
            <div class="search-bar-container">
                <div class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" class="search-input" placeholder="Buscar">
                </div>
                <div class="header-icons">
                    <div class="icon-circle">
                        <i class="fas fa-question"></i>
                    </div>
                    <div class="icon-circle">
                        <i class="fas fa-comment-dots"></i>
                    </div>
                    <div class="notification-badge icon-circle">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Informações do usuário (SEM BOTÃO ADICIONAR CONTA) -->
        <div class="user-info-section">
            <div class="user-info">
                <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Foto de perfil" class="profile-pic" id="profile-pic">
                <div class="user-details" id="user-details">
                    <h1 id="user-name">Carlos Silva</h1>
                    <p>
                        <i class="fas fa-id-card"></i>
                        <span id="user-account">Conta</span>
                    </p>
                </div>
            </div>
            <!-- BOTÃO ADICIONAR CONTA REMOVIDO -->
        </div>

        <!-- Conteúdo Principal -->
        <main class="main-container">
            <!-- Saldo em Conta - CARROSSEL -->
            <section class="balance-section">
                <div class="balance-carousel-container" id="balance-carousel-container">
                    <div class="balance-carousel" id="balance-carousel">
                        <!-- Primeiro slide - Saldo -->
                        <div class="balance-slide">
                            <div class="balance-label">
                                <span>Saldo em conta</span>
                                <button class="show-balance-btn" id="show-balance-btn">
                                    <i class="fas fa-eye"></i>
                                    Ver saldo
                                </button>
                            </div>
                            <div class="balance-value" id="balance-value">
                                R$ <span id="balance">1.568,42</span>
                            </div>
                            <div class="balance-info">
                                <span>Rendendo <span class="highlight">110,72% do CDI</span></span>
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                        
                        <!-- Segundo slide - Cartão (AGORA VERDE) -->
                        <div class="balance-slide">
                            <div class="card-title">Cartão</div>
                            <div class="card-description">
                                Encontre tudo sobre seu Cartão aqui
                            </div>
                            <button class="card-access-btn">
                                <i class="fas fa-credit-card"></i>
                                Acessar cartão
                            </button>
                        </div>
                    </div>
                    <div class="carousel-dots" id="balance-dots">
                        <div class="carousel-dot active"></div>
                        <div class="carousel-dot"></div>
                    </div>
                </div>
            </section>

            <!-- Pro dia a dia - CARROSSEL -->
            <section class="daily-section">
                <div class="section-header">
                    <h2 class="section-title">Pro dia a dia</h2>
                    <a href="#" class="see-all">Ver todos</a>
                </div>
                <div class="daily-carousel-container">
                    <div class="daily-carousel" id="daily-carousel">
                        <a href="fazer-pix.html" class="daily-item">
                            <div class="daily-icon pix-bg">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <span class="daily-label">Pix</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon payment-bg">
                                <i class="fas fa-barcode"></i>
                            </div>
                            <span class="daily-label">Pagamentos</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon recharge-bg">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <span class="daily-label">Recarga de Celular</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon piggy-bg">
                                <i class="fas fa-piggy-bank"></i>
                            </div>
                            <span class="daily-label">Cofrinho</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon credit-bg">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <span class="daily-label">Consultar<br>seu crédito</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon loan-bg">
                                <i class="fas fa-hand-holding-usd"></i>
                            </div>
                            <span class="daily-label">Empréstimo<br>com garantia</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon crypto-bg">
                                <i class="fas fa-coins"></i>
                            </div>
                            <span class="daily-label">Cripto</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon pot-bg">
                                <i class="fas fa-gift"></i>
                            </div>
                            <span class="daily-label">Pote da<br>sorte</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon invest-bg">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <span class="daily-label">Investir<br>em CDB</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon vehicle-bg">
                                <i class="fas fa-car"></i>
                            </div>
                            <span class="daily-label">Área de<br>veículos</span>
                        </a>
                        
                        <a href="#" class="daily-item">
                            <div class="daily-icon more-bg">
                                <i class="fas fa-ellipsis-h"></i>
                            </div>
                            <span class="daily-label">Ver mais<br>opções</span>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Mais Funcionalidades -->
            <section class="services-section">
                <div class="section-header">
                    <h2 class="section-title">Pra você</h2>
                    <a href="#" class="see-all">Ver todos</a>
                </div>
                <div class="features-grid">
                    <a href="#" class="feature-card">
                        <div class="feature-icon" style="background: linear-gradient(135deg, #ff9f43, #ff7f00);">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="feature-info">
                            <h3>Carro</h3>
                            <p>Seguro, financiamento e mais</p>
                        </div>
                    </a>
                    
                    <a href="#" class="feature-card">
                        <div class="feature-icon" style="background: linear-gradient(135deg, #2ecc71, #27ae60);">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-info">
                            <h3>Investimentos</h3>
                            <p>Renda seus recursos</p>
                        </div>
                    </a>
                    
                    <a href="#" class="feature-card">
                        <div class="feature-icon" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">
                            <i class="fas fa-walking"></i>
                        </div>
                        <div class="feature-info">
                            <h3>Step</h3>
                            <p>Movimente-se com saúde</p>
                        </div>
                    </a>
                    
                    <a href="#" class="feature-card">
                        <div class="feature-icon" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                            <i class="fas fa-sticky-note"></i>
                        </div>
                        <div class="feature-info">
                            <h3>Nota</h3>
                            <p>Emita notas fiscais</p>
                        </div>
                    </a>
                </div>
            </section>
        </main>

        <!-- Navegação Inferior -->
        <nav class="bottom-nav">
            <a href="home.html" class="nav-item active">
                <i class="fas fa-home nav-icon"></i>
                <span class="nav-label">Início</span>
            </a>
            <a href="carteira.html" class="nav-item">
                <i class="fas fa-wallet nav-icon"></i>
                <span class="nav-label">Carteira</span>
            </a>
            <a href="#" class="nav-item" style="position: relative; top: -20px;">
                <div style="background: var(--picpay-green); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; box-shadow: 0 4px 12px rgba(26, 188, 156, 0.3);">
                    <i class="fas fa-qrcode"></i>
                </div>
                <span class="nav-label">Pix</span>
            </a>
            <a href="notificacoes.html" class="nav-item">
                <i class="fas fa-bell nav-icon"></i>
                <span class="nav-label">Notificações</span>
            </a>
            <a href="mais.html" class="nav-item">
                <i class="fas fa-ellipsis-h nav-icon"></i>
                <span class="nav-label">Mais</span>
            </a>
        </nav>
    </div>

    <!-- Modal para editar nome -->
    <div class="modal" id="name-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Editar nome</h2>
                <button class="close-modal" id="close-name-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="new-name" class="form-label">Seu nome completo</label>
                <input type="text" id="new-name" class="form-input" placeholder="Digite seu nome">
            </div>
            <div class="form-group">
                <label for="user-account-input" class="form-label">Tipo de conta</label>
                <select id="user-account-input" class="form-input">
                    <option value="Conta">Conta</option>
                    <option value="Conta Empresas">Conta Empresas</option>
                    <option value="Conta Pessoa Física">Conta Pessoa Física</option>
                    <option value="Conta Universitária">Conta Universitária</option>
                </select>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-name">Cancelar</button>
                <button class="btn btn-primary" id="save-name">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal para editar saldo -->
    <div class="modal" id="balance-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Editar saldo</h2>
                <button class="close-modal" id="close-balance-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="new-balance" class="form-label">Novo valor do saldo</label>
                <input type="text" id="new-balance" class="form-input" placeholder="Ex: 3.500,75">
                <p style="margin-top: 10px; font-size: 0.85rem; color: var(--picpay-gray);">
                    Formato brasileiro: use vírgula para centavos
                </p>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-balance">Cancelar</button>
                <button class="btn btn-primary" id="save-balance">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal para alterar foto de perfil -->
    <div class="modal" id="photo-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Alterar foto de perfil</h2>
                <button class="close-modal" id="close-photo-modal">&times;</button>
            </div>
            <div class="form-group">
                <label for="photo-url" class="form-label">URL da nova foto</label>
                <input type="text" id="photo-url" class="form-input" placeholder="Cole a URL de uma imagem">
                <p style="margin-top: 10px; font-size: 0.85rem; color: var(--picpay-gray);">
                    Dica: Você pode usar <a href="https://randomuser.me" target="_blank" style="color: var(--picpay-green);">randomuser.me</a> para encontrar fotos de perfil
                </p>
            </div>
            <div class="form-group">
                <label for="photo-upload" class="form-label">Ou faça upload de uma foto</label>
                <input type="file" id="photo-upload" class="form-input" accept="image/*" style="padding: 12px;">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-photo">Cancelar</button>
                <button class="btn btn-primary" id="save-photo">Salvar</button>
            </div>
        </div>
    </div>

    <script>
        // ==============================================
        // CREDENCIAIS DE LOGIN
        // ==============================================
        const validCredentials = [
            {
                cpf: '49058911837',
                cpfFormatted: '490.589.118-37',
                password: '1814Enzo',
                defaultName: 'Carlos Silva',
                defaultPhoto: 'https://randomuser.me/api/portraits/men/75.jpg',
                defaultBalance: '1.568,42'
            },
            {
                cpf: '11122233344',
                cpfFormatted: '111.222.333-44',
                password: 'adm',
                defaultName: 'Administrador',
                defaultPhoto: 'https://randomuser.me/api/portraits/men/1.jpg',
                defaultBalance: '5.000,00'
            }
        ];
        
        // ==============================================
        // VARIÁVEIS GLOBAIS
        // ==============================================
        let currentUser = null;
        let currentBalanceSlide = 0;
        let startX = 0;
        let isDragging = false;
        let isBalanceVisible = true; // Controla se o saldo está visível ou oculto
        
        // ==============================================
        // ELEMENTOS DO DOM
        // ==============================================
        // Telas
        const splashScreen = document.getElementById('splash-screen');
        const loginScreen = document.getElementById('login-screen');
        const mainContent = document.getElementById('main-content');
        
        // Login
        const loginForm = document.getElementById('login-form');
        const cpfInput = document.getElementById('cpf');
        const passwordInput = document.getElementById('password');
        const togglePasswordBtn = document.getElementById('toggle-password');
        const loginError = document.getElementById('login-error');
        const errorMessage = document.getElementById('error-message');
        const rememberMeCheckbox = document.getElementById('remember-me');
        
        // Dados do usuário
        const userNameElement = document.getElementById('user-name');
        const userAccountElement = document.getElementById('user-account');
        const balanceElement = document.getElementById('balance');
        const profilePicElement = document.getElementById('profile-pic');
        const currentTimeElement = document.getElementById('current-time');
        const userDetailsElement = document.getElementById('user-details');
        const balanceValueElement = document.getElementById('balance-value');
        
        // Carrossel
        const balanceCarouselContainer = document.getElementById('balance-carousel-container');
        const balanceCarousel = document.getElementById('balance-carousel');
        const balanceSlides = document.querySelectorAll('.balance-slide');
        
        // Botão "Ver saldo"
        const showBalanceBtn = document.getElementById('show-balance-btn');
        
        // Modais
        const nameModal = document.getElementById('name-modal');
        const balanceModal = document.getElementById('balance-modal');
        const photoModal = document.getElementById('photo-modal');
        
        // Botões dos modais
        const closeNameModal = document.getElementById('close-name-modal');
        const closeBalanceModal = document.getElementById('close-balance-modal');
        const closePhotoModal = document.getElementById('close-photo-modal');
        const cancelNameBtn = document.getElementById('cancel-name');
        const cancelBalanceBtn = document.getElementById('cancel-balance');
        const cancelPhotoBtn = document.getElementById('cancel-photo');
        const saveNameBtn = document.getElementById('save-name');
        const saveBalanceBtn = document.getElementById('save-balance');
        const savePhotoBtn = document.getElementById('save-photo');
        
        // Inputs dos modais
        const newNameInput = document.getElementById('new-name');
        const userAccountInput = document.getElementById('user-account-input');
        const newBalanceInput = document.getElementById('new-balance');
        const photoUrlInput = document.getElementById('photo-url');
        const photoUploadInput = document.getElementById('photo-upload');
        
        // ==============================================
        // INICIALIZAÇÃO DA PÁGINA
        // ==============================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Página carregada - verificando login...');
            
            // Verificar se já está logado
            const loggedInUserCPF = localStorage.getItem('picpay_logged_in_user');
            
            if (loggedInUserCPF) {
                console.log('Usuário encontrado no localStorage:', loggedInUserCPF);
                
                // Encontrar o usuário nas credenciais
                currentUser = validCredentials.find(cred => cred.cpf === loggedInUserCPF);
                
                if (currentUser) {
                    console.log('Usuário autenticado:', currentUser.cpfFormatted);
                    
                    // Carregar dados do usuário
                    loadUserData();
                    
                    // Mostrar conteúdo principal diretamente
                    splashScreen.style.display = 'none';
                    loginScreen.style.display = 'none';
                    mainContent.classList.add('visible');
                    
                    // Atualizar horário
                    updateTime();
                    setInterval(updateTime, 60000);
                    
                    // Inicializar todos os eventos do app
                    initAppEvents();
                    return;
                } else {
                    console.log('Usuário não encontrado nas credenciais, limpando localStorage...');
                    localStorage.removeItem('picpay_logged_in_user');
                }
            }
            
            // Se não estiver logado, mostrar splash screen
            console.log('Nenhum usuário logado, mostrando tela de login...');
            setTimeout(() => {
                splashScreen.classList.add('hidden');
                
                setTimeout(() => {
                    loginScreen.classList.remove('hidden');
                }, 500);
            }, 2000);
            
            // Inicializar eventos de login
            initLoginEvents();
        });
        
        // ==============================================
        // FUNÇÕES DE LOGIN
        // ==============================================
        function initLoginEvents() {
            // Alternar visibilidade da senha
            togglePasswordBtn.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                
                const icon = this.querySelector('i');
                if (type === 'text') {
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            });
            
            // Formatar CPF enquanto digita
            cpfInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                if (value.length > 3) {
                    value = value.substring(0, 3) + '.' + value.substring(3);
                }
                if (value.length > 7) {
                    value = value.substring(0, 7) + '.' + value.substring(7);
                }
                if (value.length > 11) {
                    value = value.substring(0, 11) + '-' + value.substring(11, 13);
                }
                
                e.target.value = value;
            });
            
            // Processar login
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const cpf = cpfInput.value.replace(/\D/g, '');
                const password = passwordInput.value.trim();
                
                if (!cpf || cpf.length !== 11) {
                    showError('Por favor, insira um CPF válido (11 dígitos)');
                    return;
                }
                
                if (!password) {
                    showError('Por favor, insira sua senha');
                    return;
                }
                
                const user = validCredentials.find(cred => 
                    cred.cpf === cpf && cred.password === password
                );
                
                if (user) {
                    currentUser = user;
                    console.log('Login bem-sucedido para:', user.cpfFormatted);
                    
                    // Salvar estado de login
                    if (rememberMeCheckbox.checked) {
                        localStorage.setItem('picpay_logged_in_user', user.cpf);
                        console.log('Estado de login salvo no localStorage');
                    }
                    
                    // Login bem-sucedido
                    loginSuccess();
                } else {
                    showError('CPF ou senha incorretos');
                }
            });
            
            // Permitir login com Enter
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    loginForm.dispatchEvent(new Event('submit'));
                }
            });
            
            // Pular splash screen se o usuário clicar nela
            splashScreen.addEventListener('click', () => {
                splashScreen.classList.add('hidden');
                setTimeout(() => {
                    loginScreen.classList.remove('hidden');
                }, 500);
            });
        }
        
        function showError(message) {
            errorMessage.textContent = message;
            loginError.style.display = 'flex';
            
            setTimeout(() => {
                loginError.style.display = 'none';
            }, 5000);
        }
        
        function loginSuccess() {
            loginScreen.classList.add('hidden');
            
            // Carregar dados do usuário
            loadUserData();
            
            // Mostrar conteúdo principal
            setTimeout(() => {
                mainContent.classList.add('visible');
                
                // Atualizar horário
                updateTime();
                setInterval(updateTime, 60000);
                
                // Inicializar todos os eventos do app
                initAppEvents();
            }, 500);
        }
        
        // ==============================================
        // FUNÇÕES DE DADOS DO USUÁRIO
        // ==============================================
        function loadUserData() {
            if (!currentUser) {
                console.error('Nenhum usuário atual para carregar dados');
                return;
            }
            
            const userKey = `picpay_user_${currentUser.cpf}`;
            console.log('Carregando dados para usuário:', userKey);
            
            // Verificar se existem dados salvos
            const savedData = localStorage.getItem(userKey);
            
            if (savedData) {
                try {
                    const userData = JSON.parse(savedData);
                    console.log('Dados encontrados no localStorage:', userData);
                    
                    // Aplicar dados salvos na interface
                    if (userData.name) {
                        userNameElement.textContent = userData.name;
                        console.log('Nome carregado:', userData.name);
                    }
                    
                    if (userData.account) {
                        userAccountElement.textContent = userData.account;
                        console.log('Conta carregada:', userData.account);
                    }
                    
                    if (userData.balance) {
                        balanceElement.textContent = userData.balance;
                        console.log('Saldo carregado:', userData.balance);
                    }
                    
                    if (userData.photo) {
                        profilePicElement.src = userData.photo;
                        console.log('Foto carregada:', userData.photo);
                    }
                    
                } catch (error) {
                    console.error('Erro ao parsear dados do localStorage:', error);
                    loadDefaultData();
                }
            } else {
                console.log('Nenhum dado salvo encontrado, carregando dados padrão');
                loadDefaultData();
            }
        }
        
        function loadDefaultData() {
            if (!currentUser) return;
            
            userNameElement.textContent = currentUser.defaultName;
            userAccountElement.textContent = 'Conta';
            balanceElement.textContent = currentUser.defaultBalance;
            profilePicElement.src = currentUser.defaultPhoto;
            
            console.log('Dados padrão carregados para:', currentUser.cpfFormatted);
            
            // Salvar dados padrão no localStorage
            saveUserData();
        }
        
        function saveUserData() {
            if (!currentUser) {
                console.error('Nenhum usuário atual para salvar dados');
                return;
            }
            
            const userKey = `picpay_user_${currentUser.cpf}`;
            
            const userData = {
                cpf: currentUser.cpf,
                name: userNameElement.textContent,
                account: userAccountElement.textContent,
                balance: balanceElement.textContent,
                photo: profilePicElement.src,
                lastUpdate: new Date().toISOString()
            };
            
            localStorage.setItem(userKey, JSON.stringify(userData));
            console.log('Dados salvos no localStorage para:', userKey, userData);
        }
        
        // ==============================================
        // FUNÇÕES DO APP
        // ==============================================
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            currentTimeElement.textContent = `${hours}:${minutes}`;
        }
        
        // Função para alternar visibilidade do saldo
        function toggleBalanceVisibility() {
            isBalanceVisible = !isBalanceVisible;
            
            if (isBalanceVisible) {
                // Mostrar saldo
                balanceValueElement.style.opacity = '1';
                balanceElement.textContent = localStorage.getItem(`picpay_user_${currentUser.cpf}_real_balance`) || currentUser.defaultBalance;
                showBalanceBtn.innerHTML = '<i class="fas fa-eye"></i> Ver saldo';
            } else {
                // Ocultar saldo
                balanceValueElement.style.opacity = '0.3';
                balanceElement.textContent = '••••';
                showBalanceBtn.innerHTML = '<i class="fas fa-eye-slash"></i> Ver saldo';
            }
        }
        
        // Carrossel do saldo
        function updateBalanceCarousel() {
            balanceCarousel.style.transform = `translateX(-${currentBalanceSlide * 100}%)`;
            
            // Atualizar dots
            const dots = document.querySelectorAll('#balance-dots .carousel-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentBalanceSlide);
            });
        }
        
        function initBalanceCarousel() {
            // Criar dots
            const dotsContainer = document.getElementById('balance-dots');
            dotsContainer.innerHTML = '';
            for (let i = 0; i < balanceSlides.length; i++) {
                const dot = document.createElement('div');
                dot.className = `carousel-dot ${i === 0 ? 'active' : ''}`;
                dot.addEventListener('click', () => {
                    currentBalanceSlide = i;
                    updateBalanceCarousel();
                });
                dotsContainer.appendChild(dot);
            }
            
            // Swipe/touch para trocar slides
            balanceCarouselContainer.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = true;
            });
            
            balanceCarouselContainer.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
            });
            
            balanceCarouselContainer.addEventListener('touchend', (e) => {
                if (!isDragging) return;
                
                const endX = e.changedTouches[0].clientX;
                const diffX = startX - endX;
                
                // Se o swipe for significativo (> 50px)
                if (Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        // Swipe para a esquerda - próximo slide
                        currentBalanceSlide = (currentBalanceSlide + 1) % balanceSlides.length;
                    } else {
                        // Swipe para a direita - slide anterior
                        currentBalanceSlide = (currentBalanceSlide - 1 + balanceSlides.length) % balanceSlides.length;
                    }
                    updateBalanceCarousel();
                }
                
                isDragging = false;
            });
            
            // Botão "Ver saldo" - clicável
            if (showBalanceBtn) {
                showBalanceBtn.addEventListener('click', function(e) {
                    e.stopPropagation(); // Impede que o clique se propague para o carrossel
                    toggleBalanceVisibility();
                });
            }
            
            // Clique no carrossel para editar saldo (apenas no primeiro slide)
            balanceCarouselContainer.addEventListener('click', (e) => {
                // Só abre modal se for o primeiro slide (saldo) e não for clique no botão "Ver saldo"
                if (currentBalanceSlide === 0 && !e.target.closest('.show-balance-btn')) {
                    // Primeiro garante que o saldo está visível
                    isBalanceVisible = true;
                    balanceValueElement.style.opacity = '1';
                    showBalanceBtn.innerHTML = '<i class="fas fa-eye"></i> Ver saldo';
                    
                    // Salva o saldo real antes de abrir o modal
                    const realBalance = balanceElement.textContent === '••••' 
                        ? (localStorage.getItem(`picpay_user_${currentUser.cpf}_real_balance`) || currentUser.defaultBalance)
                        : balanceElement.textContent;
                    
                    newBalanceInput.value = realBalance;
                    balanceModal.style.display = 'flex';
                }
            });
            
            // Inicializar carrossel
            updateBalanceCarousel();
        }
        
        function initModals() {
            // Fechar todos os modais
            function closeAllModals() {
                nameModal.style.display = 'none';
                balanceModal.style.display = 'none';
                photoModal.style.display = 'none';
                if (photoUploadInput) photoUploadInput.value = '';
            }
            
            // Eventos para fechar modais
            closeNameModal.addEventListener('click', closeAllModals);
            closeBalanceModal.addEventListener('click', closeAllModals);
            closePhotoModal.addEventListener('click', closeAllModals);
            
            if (cancelNameBtn) cancelNameBtn.addEventListener('click', closeAllModals);
            if (cancelBalanceBtn) cancelBalanceBtn.addEventListener('click', closeAllModals);
            if (cancelPhotoBtn) cancelPhotoBtn.addEventListener('click', closeAllModals);
            
            // Salvar nome
            if (saveNameBtn) {
                saveNameBtn.addEventListener('click', () => {
                    const newName = newNameInput.value.trim();
                    const newAccount = userAccountInput.value;
                    
                    if (newName) {
                        userNameElement.textContent = newName;
                        userAccountElement.textContent = newAccount;
                        saveUserData(); // Salvar alterações
                        closeAllModals();
                    }
                });
            }
            
            // Salvar saldo
            if (saveBalanceBtn) {
                saveBalanceBtn.addEventListener('click', () => {
                    const newBalance = newBalanceInput.value.trim();
                    if (newBalance) {
                        const formattedBalance = newBalance.replace(/[^\d,]/g, '');
                        if (formattedBalance) {
                            balanceElement.textContent = formattedBalance;
                            // Salva o saldo real para quando estiver oculto
                            localStorage.setItem(`picpay_user_${currentUser.cpf}_real_balance`, formattedBalance);
                            saveUserData(); // Salvar alterações
                            closeAllModals();
                        }
                    }
                });
            }
            
            // Salvar foto
            if (savePhotoBtn) {
                savePhotoBtn.addEventListener('click', () => {
                    const newPhotoUrl = photoUrlInput.value.trim();
                    const file = photoUploadInput.files[0];
                    
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            profilePicElement.src = e.target.result;
                            saveUserData(); // Salvar alterações
                            closeAllModals();
                        };
                        reader.readAsDataURL(file);
                    } else if (newPhotoUrl) {
                        const img = new Image();
                        img.onload = function() {
                            profilePicElement.src = newPhotoUrl;
                            saveUserData(); // Salvar alterações
                            closeAllModals();
                        };
                        img.onerror = function() {
                            alert('A URL fornecida não é uma imagem válida. Por favor, verifique e tente novamente.');
                        };
                        img.src = newPhotoUrl;
                    }
                });
            }
            
            // Fechar modal ao clicar fora
            window.addEventListener('click', (event) => {
                if (event.target === nameModal || event.target === balanceModal || event.target === photoModal) {
                    closeAllModals();
                }
            });
        }
        
        function initClickEvents() {
            // Foto de perfil - clicar para editar
            profilePicElement.addEventListener('click', () => {
                photoUrlInput.value = profilePicElement.src;
                photoModal.style.display = 'flex';
            });
            
            // Nome do usuário - clicar para editar
            userDetailsElement.addEventListener('click', () => {
                newNameInput.value = userNameElement.textContent;
                userAccountInput.value = userAccountElement.textContent;
                nameModal.style.display = 'flex';
            });
            
            // Todos os botões clicáveis do app
            const clickableElements = document.querySelectorAll(
                '.daily-item, .feature-card, .nav-item, .card-access-btn, .icon-circle, .search-input, .see-all, .balance-info'
            );
            
            clickableElements.forEach(element => {
                element.addEventListener('click', function(e) {
                    // Se for um link vazio ou botão, mostrar alerta
                    if (this.getAttribute('href') === '#' || this.tagName === 'BUTTON' || this.classList.contains('icon-circle') || this.classList.contains('balance-info')) {
                        e.preventDefault();
                        
                        let actionText = '';
                        if (this.classList.contains('daily-item')) {
                            actionText = this.querySelector('.daily-label').textContent;
                        } else if (this.classList.contains('feature-card')) {
                            actionText = this.querySelector('h3').textContent;
                        } else if (this.classList.contains('nav-item')) {
                            actionText = this.querySelector('.nav-label').textContent;
                        } else if (this.classList.contains('card-access-btn')) {
                            actionText = 'Acessar cartão';
                        } else if (this.classList.contains('icon-circle')) {
                            const iconClass = this.querySelector('i').className;
                            if (iconClass.includes('fa-question')) actionText = 'Ajuda';
                            else if (iconClass.includes('fa-comment-dots')) actionText = 'Chat';
                            else if (iconClass.includes('fa-bell')) actionText = 'Notificações';
                        } else if (this.classList.contains('see-all')) {
                            actionText = 'Ver todos';
                        } else if (this.classList.contains('balance-info')) {
                            actionText = 'Ver detalhes do rendimento';
                        }
                        
                        if (actionText) {
                            alert(`Funcionalidade do PicPay: ${actionText}`);
                        }
                    }
                });
            });
            
            // QR Code no bottom nav
            const qrCodeBtn = document.querySelector('.nav-item[style*="top: -20px"]');
            if (qrCodeBtn) {
                qrCodeBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    alert('Funcionalidade: Abrir QR Code do Pix');
                });
            }
        }
        
        function initAppEvents() {
            console.log('Inicializando todos os eventos do app...');
            
            // Inicializar carrossel do saldo
            initBalanceCarousel();
            
            // Inicializar modais
            initModals();
            
            // Inicializar eventos de clique
            initClickEvents();
            
            console.log('Todos os eventos do app foram inicializados com sucesso!');
        }
        
        // ==============================================
        // FUNÇÕES DE DEBUG
        // ==============================================
        console.log('Credenciais válidas para teste:');
        console.log('1. CPF: 490.589.118-37 / Senha: 1814Enzo');
        console.log('2. CPF: 111.222.333-44 / Senha: adm');
        console.log('\nPara fazer logout, digite no console:');
        console.log('logoutPicPay();');
        
        // Função de logout global
        window.logoutPicPay = function() {
            if (currentUser) {
                console.log('Fazendo logout do usuário:', currentUser.cpfFormatted);
            }
            localStorage.removeItem('picpay_logged_in_user');
            alert('Logout realizado! A página será recarregada.');
            location.reload();
        };
        
        // Função para ver dados salvos
        window.verDadosSalvos = function() {
            if (currentUser) {
                const userKey = `picpay_user_${currentUser.cpf}`;
                const savedData = localStorage.getItem(userKey);
                if (savedData) {
                    console.log('Dados salvos para', currentUser.cpfFormatted, ':', JSON.parse(savedData));
                } else {
                    console.log('Nenhum dado salvo encontrado para', currentUser.cpfFormatted);
                }
            } else {
                console.log('Nenhum usuário logado no momento');
            }
        };
    </script>
</body>
</html>
